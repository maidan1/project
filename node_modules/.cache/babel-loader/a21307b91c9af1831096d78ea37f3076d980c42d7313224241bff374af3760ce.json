{"ast":null,"code":"import _slicedToArray from\"C:/Users/maida/OneDrive/\\u05DE\\u05E1\\u05DE\\u05DB\\u05D9\\u05DD/project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import{Container,Grid}from\"@mui/material\";import nextKey from\"generate-my-key\";import CardComponent from\"../../components/CardComponent\";import{useNavigate}from\"react-router-dom\";import ROUTES from\"../../routes/ROUTES\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";var HomePage=function HomePage(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),dataFromServer=_useState2[0],setDataFromServer=_useState2[1];var navigate=useNavigate();useEffect(function(){axios.get(\"/cards\").then(function(_ref){var data=_ref.data;console.log(\"data\",data);setDataFromServer(data);}).catch(function(err){console.log(\"err\",err);});},[]);var handleDeleteCard=function handleDeleteCard(_id){console.log(\"_id to delete (HomePage)\",_id);setDataFromServer(function(dataFromServerCopy){return dataFromServerCopy.filter(function(card){return card._id!=_id;});});// dataFromServer = dataFromServer.filter((card) => card._id != _id);\n//return true for all the cards that has id that not equal to the id we want to delete\n// console.log(\"dataFromServer\", dataFromServer);\n};var handleEditCard=function handleEditCard(_id){// console.log(\"id to edit\", _id);\nnavigate(\"\".concat(ROUTES.EDITCARD,\"/\").concat(_id));};return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Grid,{container:true,spacing:2,children:dataFromServer.map(function(card){return/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:4,lg:3,children:/*#__PURE__*/_jsx(CardComponent,{_id:card._id,title:card.title,subTitle:card.subtitle,phone:card.phone,address:\"\".concat(card.address.city,\", \").concat(card.address.street,\" \").concat(card.address.houseNumber),img:card.image.url,alt:card.image.alt,cardNumber:card.cardNumber,onDeleteCard:handleDeleteCard,onEditCard:handleEditCard})},nextKey());})})});};export default HomePage;","map":{"version":3,"names":["useEffect","useState","Container","Grid","nextKey","CardComponent","useNavigate","ROUTES","axios","jsx","_jsx","HomePage","_useState","_useState2","_slicedToArray","dataFromServer","setDataFromServer","navigate","get","then","_ref","data","console","log","catch","err","handleDeleteCard","_id","dataFromServerCopy","filter","card","handleEditCard","concat","EDITCARD","children","container","spacing","map","item","xs","sm","md","lg","title","subTitle","subtitle","phone","address","city","street","houseNumber","img","image","url","alt","cardNumber","onDeleteCard","onEditCard"],"sources":["C:/Users/maida/OneDrive/מסמכים/project/src/pages/home/HomePage.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { Container, Grid } from \"@mui/material\";\nimport nextKey from \"generate-my-key\";\nimport CardComponent from \"../../components/CardComponent\";\nimport { useNavigate } from \"react-router-dom\";\nimport ROUTES from \"../../routes/ROUTES\";\nimport axios from \"axios\";\n\nconst HomePage = () => {\n  const [dataFromServer, setDataFromServer] = useState([]);\n  const navigate = useNavigate();\n  useEffect(() => {\n    axios\n      .get(\"/cards\")\n      .then(({ data }) => {\n        console.log(\"data\", data);\n        setDataFromServer(data);\n      })\n      .catch((err) => {\n        console.log(\"err\", err);\n      });\n  }, []);\n  const handleDeleteCard = (_id) => {\n    console.log(\"_id to delete (HomePage)\", _id);\n    setDataFromServer((dataFromServerCopy) =>\n      dataFromServerCopy.filter((card) => card._id != _id)\n    );\n    // dataFromServer = dataFromServer.filter((card) => card._id != _id);\n    //return true for all the cards that has id that not equal to the id we want to delete\n    // console.log(\"dataFromServer\", dataFromServer);\n  };\n  const handleEditCard = (_id) => {\n    // console.log(\"id to edit\", _id);\n    navigate(`${ROUTES.EDITCARD}/${_id}`);\n  };\n  return (\n    <Container>\n      <Grid container spacing={2}>\n        {dataFromServer.map((card) => (\n          <Grid item key={nextKey()} xs={12} sm={6} md={4} lg={3}>\n            <CardComponent\n              _id={card._id}\n              title={card.title}\n              subTitle={card.subtitle}\n              phone={card.phone}\n              address={`${card.address.city}, ${card.address.street} ${card.address.houseNumber}`}\n              img={card.image.url}\n              alt={card.image.alt}\n              cardNumber={card.cardNumber}\n              onDeleteCard={handleDeleteCard}\n              onEditCard={handleEditCard}\n            />\n          </Grid>\n        ))}\n      </Grid>\n    </Container>\n  );\n};\n\nexport default HomePage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}